const pokemonRepository=function(){let t=[],e="",o="";function n(e){"object"==typeof e&&"name"in e?t.push(e):console.log("Pokemon is not correct")}function i(){return t}function r(){return o}function l(){return e}let s=document.querySelector("[data-search]");function a(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.types=e.types.map(t=>t.type.name),t.abilities=e.abilities.map(t=>t.ability.name)}).catch(function(t){console.error(t)})}function p(t){a(t).then(function(){showModal(t)})}return s.addEventListener("input",t=>{let e=t.target.value.toLowerCase(),o=document.querySelectorAll(".pokemon-list-button");o.forEach(t=>{t.innerText.toLowerCase().includes(e)?t.style.display="":t.style.display="none"})}),{getAll:i,add:n,addListItem:function t(e){let o=document.querySelector(".pokemon-list"),n=document.createElement("li"),i=document.createElement("button");i.innerText=e.name,i.classList.add("pokemon-list-button"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemon-modal"),i.classList.add("btn"),n.appendChild(i),o.appendChild(n),i.addEventListener("click",function(t){p(e)})},showDetails:p,loadList:function i(r){return fetch(r).then(function(t){return t.json()}).then(function(i){console.log("nextUIRL",i.next),e=i.previous,o=i.next,t.length=0,i.results.forEach(function(t){let e={name:t.name,detailsUrl:t.url};n(e),console.log(e)})}).catch(function(t){console.error(t)})},loadDetails:a,showModal,getNextURL:r,getPrevURL:l,clearList:function t(){document.querySelector(".pokemon-list").innerHTML=""}}}(),apiUrl="https://pokeapi.co/api/v2/pokemon/?offset=0&limit=18",prevBtn=document.getElementById("prevBtn"),nextBtn=document.getElementById("nextBtn");console.log(prevBtn),prevBtn.addEventListener("click",t=>{let e=pokemonRepository.getPrevURL();e&&(pokemonRepository.loadList(e).then(function(){pokemonRepository.clearList(),pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),console.log(pokemonRepository.getPrevURL()))}),nextBtn.addEventListener("click",t=>{let e=pokemonRepository.getNextURL();e&&(pokemonRepository.loadList(e).then(function(){pokemonRepository.clearList(),pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),console.log(pokemonRepository.getNextURL()))}),pokemonRepository.loadList("https://pokeapi.co/api/v2/pokemon/?offset=0&limit=18").then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});